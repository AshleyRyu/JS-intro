<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- Vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- Firebase -->
    <script src="https://gstatic.com/firebasejs/4.2.0/firebase.js"></script>
    <!-- VueFire -->
    <script src="https://unpkg.com/vuefire/dist/vuefire.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.6.0/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.6.0/firebaseui.css" />
    <script>
        // Initialize Firebase
        // TODO: Replace with your project's customized code snippet
        const config = {
            apiKey: "AIzaSyA3MrldFLLop2-uFAfGUEmg5HNHbmcaZtQ",
            databaseURL: "https://vue-project-ash.firebaseio.com/",
            projectId: "vue-project-ash",
        };
        firebase.initializeApp(config);
        const db =firebase.database()
        var auth = firebase.auth()
        var ui = new firebaseui.auth.AuthUI(auth)
        ui.start('#firebaseui-auth-container')
    </script>


</head>
<body>
    <div id="app">
        <ul>
            <li v-for="message in messages">
                <b>{{message.username}}</b> : {{message.content}}
            </li>
        </ul>
        <input v-model="newMessage" @keyup.enter="createMessage">
    </div>
    <script>
    const app = new Vue({
        el: '#app',
        data: {
            newMessage: '',
            messages: [
                {'username': 'Ashley', 'content': '배부르다.'},
                {'username': 'David', 'content': '졸리다.'},
            ],
            currentUser: {
                uid: '', // user id
                email: '',
                username: '',
            }
        },
        methods: {
            createMessage: function(){
                if(this.newMessage){
                    this.messages.push({
                        username: '홍길동',
                        content: this.newMessage,
                    })
                this.newMessage = '' // 초기화
                }
            }
        }
    })
    </script>
</body>
</html>